{"version":3,"sources":["../../../../app/utm-builder/UTMBuilderClient.tsx","../../../../src/utils/urlBuilder.ts","../../../../src/utils/rowFactory.ts","../../../../src/hooks/useKeyboardNavigation.ts","../../../../src/hooks/useRowClipboard.ts","../../../../src/hooks/useToast.ts","../../../../src/hooks/useCellSelection.ts","../../../../src/hooks/useRowSelection.ts","../../../../src/hooks/useHistory.ts","../../../../src/components/BuilderTableHeader.tsx","../../../../src/components/UTMTableInput.tsx","../../../../src/constants/index.ts","../../../../src/components/UTMTableRow.tsx","../../../../src/components/Toast.tsx","../../../../src/components/KeyboardShortcuts.tsx","../../../../src/components/BuilderTab.tsx","../../../../src/components/SavedTableHeader.tsx","../../../../src/components/SavedTableRow.tsx","../../../../src/components/SavedTab.tsx","../../../../src/components/UTMGuide.tsx","../../../../src/hooks/useLocalStorage.ts"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport BuilderTab from \"@/components/BuilderTab\";\nimport SavedTab from \"@/components/SavedTab\";\nimport UTMGuide from \"@/components/UTMGuide\";\nimport { useLocalStorage } from \"@/hooks/useLocalStorage\";\nimport type { SavedItem } from \"@/types\";\n\nexport default function UTMBuilderClient() {\n  const [activeTab, setActiveTab] = useState<\"builder\" | \"saved\">(\"builder\");\n  const [savedItems, setSavedItems] = useLocalStorage<SavedItem[]>(\n    \"utmSavedItems\",\n    []\n  );\n\n  // Add saved items\n  const handleSave = (newItems: SavedItem[]) => {\n    setSavedItems([...savedItems, ...newItems]);\n  };\n\n  // Delete individual item\n  const handleDelete = (id: number) => {\n    if (confirm(\"Are you sure you want to delete this item?\")) {\n      setSavedItems(savedItems.filter((item) => item.id !== id));\n    }\n  };\n\n  // Delete all\n  const handleDeleteAll = () => {\n    if (confirm(\"Are you sure you want to delete all saved URLs?\")) {\n      setSavedItems([]);\n    }\n  };\n\n  // Delete selected items in bulk\n  const handleDeleteSelected = (ids: number[]) => {\n    if (\n      confirm(`Are you sure you want to delete ${ids.length} selected item(s)?`)\n    ) {\n      setSavedItems(savedItems.filter((item) => !ids.includes(item.id)));\n    }\n  };\n\n  // Update comment\n  const handleUpdateComment = (id: number, comment: string) => {\n    setSavedItems(\n      savedItems.map((item) => (item.id === id ? { ...item, comment } : item))\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen relative z-10\">\n      <div className=\"container mx-auto py-8 relative z-10\">\n        <div className=\"mb-8\">\n          <Link\n            href=\"/\"\n            className=\"inline-flex items-center text-gray-300 hover:text-white transition-colors mb-4 glass px-4 py-2 rounded-xl shadow-lg\"\n          >\n            <svg\n              className=\"w-5 h-5 mr-2\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"\n              />\n            </svg>\n            Home\n          </Link>\n          <div className=\"text-center\">\n            <h1 className=\"text-4xl font-bold text-white mb-2 drop-shadow-lg\">\n              UTM Builder\n            </h1>\n            <p className=\"text-gray-300\">UTM builder for everyone</p>\n          </div>\n        </div>\n\n        {/* Tab switching UI */}\n        <div className=\"flex justify-center mb-6\">\n          <div className=\"inline-flex rounded-2xl glass-strong p-1.5 shadow-xl\">\n            <button\n              onClick={() => setActiveTab(\"builder\")}\n              className={`px-6 py-2.5 rounded-xl font-medium transition-all duration-200 ${\n                activeTab === \"builder\"\n                  ? \"bg-white/20 text-white shadow-lg backdrop-blur-sm\"\n                  : \"text-gray-300 hover:text-white hover:bg-white/5\"\n              }`}\n            >\n              Builder\n            </button>\n            <button\n              onClick={() => setActiveTab(\"saved\")}\n              className={`px-6 py-2.5 rounded-xl font-medium transition-all duration-200 ${\n                activeTab === \"saved\"\n                  ? \"bg-white/20 text-white shadow-lg backdrop-blur-sm\"\n                  : \"text-gray-300 hover:text-white hover:bg-white/5\"\n              }`}\n            >\n              Saved ({savedItems.length})\n            </button>\n          </div>\n        </div>\n\n        {/* Tab content */}\n        {activeTab === \"builder\" ? (\n          <BuilderTab onSave={handleSave} />\n        ) : (\n          <SavedTab\n            savedItems={savedItems}\n            onDelete={handleDelete}\n            onDeleteAll={handleDeleteAll}\n            onDeleteSelected={handleDeleteSelected}\n            onUpdateComment={handleUpdateComment}\n          />\n        )}\n\n        <UTMGuide />\n      </div>\n    </div>\n  );\n}\n","import type { UTMRow } from \"@/types\";\n\n/**\n * Generates a complete URL with UTM parameters\n */\nexport const buildUTMUrl = ({\n  baseUrl,\n  source,\n  medium,\n  campaign,\n  term,\n  content,\n}: Pick<\n  UTMRow,\n  \"baseUrl\" | \"source\" | \"medium\" | \"campaign\" | \"term\" | \"content\"\n>): string => {\n  // Return empty string if baseUrl is missing\n  if (!baseUrl) {\n    return \"\";\n  }\n\n  try {\n    // Add https:// if URL doesn't have a protocol\n    const fullUrl = baseUrl.startsWith(\"http\") ? baseUrl : `https://${baseUrl}`;\n    const url = new URL(fullUrl);\n\n    // Add UTM parameters if they exist\n    if (source) url.searchParams.set(\"utm_source\", source);\n    if (medium) url.searchParams.set(\"utm_medium\", medium);\n    if (campaign) url.searchParams.set(\"utm_campaign\", campaign);\n    if (term) url.searchParams.set(\"utm_term\", term);\n    if (content) url.searchParams.set(\"utm_content\", content);\n\n    return url.toString();\n  } catch {\n    // Return empty string if URL is invalid\n    return \"\";\n  }\n};\n","import type { UTMRow } from \"@/types\";\n\n// Counter for generating unique IDs\nlet idCounter = 0;\n\n/**\n * Generates a unique ID (timestamp + counter)\n */\nconst generateUniqueId = (): string => {\n  idCounter++;\n  return `${Date.now()}-${idCounter}`;\n};\n\n/**\n * Creates an empty row object\n */\nexport const createEmptyRow = (): UTMRow => ({\n  id: generateUniqueId(),\n  baseUrl: \"\",\n  source: \"\",\n  medium: \"\",\n  campaign: \"\",\n  term: \"\",\n  content: \"\",\n  selected: false,\n});\n\n/**\n * Creates a new row based on a copied row\n */\nexport const createRowFromCopied = (copiedRow: UTMRow): UTMRow => ({\n  ...copiedRow,\n  id: generateUniqueId(),\n  selected: false,\n});\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { flushSync } from \"react-dom\";\nimport { createEmptyRow } from \"@/utils/rowFactory\";\nimport { useRowClipboard } from \"./useRowClipboard\";\nimport { useToast } from \"./useToast\";\nimport { useCellSelection } from \"./useCellSelection\";\nimport { useRowSelection } from \"./useRowSelection\";\nimport type { UTMRow, UTMField, CellPosition, CellRange, RowRange } from \"@/types\";\n\ninterface UseKeyboardNavigationReturn {\n  selectedCell: CellPosition | null;\n  selectedCellRange: CellRange | null;\n  selectedRowIndex: number | null;\n  selectedRange: RowRange | null;\n  setSelectedCell: React.Dispatch<React.SetStateAction<CellPosition | null>>;\n  setSelectedCellRange: React.Dispatch<React.SetStateAction<CellRange | null>>;\n  setSelectedRowIndex: React.Dispatch<React.SetStateAction<number | null>>;\n  setSelectedRange: React.Dispatch<React.SetStateAction<RowRange | null>>;\n  handleCellSelectionKeyDown: (\n    e: React.KeyboardEvent,\n    rowIndex: number,\n    field: UTMField\n  ) => void;\n  handleRowSelectionKeyDown: (e: React.KeyboardEvent, rowIndex: number) => void;\n  handleInputFocus: (field: UTMField, rowIndex: number) => void;\n  handleKeyDown: (\n    e: React.KeyboardEvent,\n    rowIndex: number,\n    field: UTMField\n  ) => void;\n  isComposing: boolean;\n  onCompositionStart: () => void;\n  onCompositionEnd: () => void;\n  focusCell: (rowIndex: number, field: UTMField) => void;\n}\n\n/**\n * Custom hook for keyboard navigation logic\n */\nexport const useKeyboardNavigation = (\n  rows: UTMRow[],\n  setRows: (updater: UTMRow[] | ((prev: UTMRow[]) => UTMRow[])) => void,\n  fields: UTMField[],\n  onDeleteRow: (id: string) => void,\n  onToggleSelect: (id: string) => void,\n  editingCell: CellPosition | null,\n  setEditingCell: (cell: CellPosition | null) => void\n): UseKeyboardNavigationReturn => {\n  const [lastFocusedField, setLastFocusedField] = useState<UTMField>(\"baseUrl\");\n  const [isComposing, setIsComposing] = useState(false);\n\n  const { showToast } = useToast();\n  const { copyRow } = useRowClipboard();\n\n  const focusCell = (rowIndex: number, field: UTMField) => {\n    if (rowIndex < 0) return;\n\n    const selector = `input[data-row-index=\"${rowIndex}\"][data-field=\"${field}\"]`;\n    const nextInput = document.querySelector(selector) as HTMLInputElement;\n\n    if (nextInput) {\n      nextInput.focus();\n      nextInput.select();\n    }\n  };\n\n  const {\n    selectedCell,\n    selectedCellRange,\n    setSelectedCell,\n    setSelectedCellRange,\n    handleCellSelectionKeyDown,\n  } = useCellSelection(rows, setRows, fields, showToast, setEditingCell);\n\n  const {\n    selectedRowIndex,\n    selectedRange,\n    setSelectedRowIndex,\n    setSelectedRange,\n    handleRowSelectionKeyDown,\n  } = useRowSelection(\n    rows,\n    setRows,\n    onDeleteRow,\n    onToggleSelect,\n    showToast,\n    focusCell,\n    lastFocusedField\n  );\n\n  const wrappedCellSelectionKeyDown = (\n    e: React.KeyboardEvent,\n    rowIndex: number,\n    field: UTMField\n  ) => {\n    if (e.key === \"Escape\") {\n      e.preventDefault();\n      setSelectedCell(null);\n      setSelectedCellRange(null);\n      setSelectedRowIndex(rowIndex);\n      setSelectedRange(null);\n\n      requestAnimationFrame(() => {\n        const rowElement = document.querySelector(\n          `tr[data-row-index=\"${rowIndex}\"]`\n        );\n        if (rowElement) {\n          (rowElement as HTMLElement).focus();\n        }\n      });\n      return;\n    }\n\n    handleCellSelectionKeyDown(e, rowIndex, field);\n  };\n\n  const handleInputFocus = (field: UTMField, rowIndex: number) => {\n    setSelectedRowIndex(null);\n    setSelectedCell(null);\n    setSelectedCellRange(null);\n    setEditingCell({ rowIndex, field });\n    setLastFocusedField(field);\n  };\n\n  const handleKeyDown = (\n    e: React.KeyboardEvent,\n    rowIndex: number,\n    field: UTMField\n  ) => {\n    if (!e || !e.target) return;\n\n    const input = e.target as HTMLInputElement;\n    const cursorAtStart = input.selectionStart === 0;\n    const cursorAtEnd = input.selectionStart === input.value.length;\n\n    // ESC: Exit edit mode â†’ Cell selection mode\n    if (e.key === \"Escape\") {\n      e.preventDefault();\n\n      const isEditingMode =\n        editingCell &&\n        editingCell.rowIndex === rowIndex &&\n        editingCell.field === field;\n\n      const isCurrentCellSelected =\n        selectedCell &&\n        selectedCell.rowIndex === rowIndex &&\n        selectedCell.field === field;\n\n      if (isEditingMode) {\n        setEditingCell(null);\n        setSelectedCell({ rowIndex, field });\n        setSelectedCellRange(null);\n        setSelectedRowIndex(null);\n        setSelectedRange(null);\n      } else if (isCurrentCellSelected) {\n        setSelectedCell(null);\n        setSelectedCellRange(null);\n        setSelectedRowIndex(rowIndex);\n        setSelectedRange(null);\n      }\n      return;\n    }\n\n    // Shift + Arrow: Cell range selection\n    if (\n      e.shiftKey &&\n      !e.metaKey &&\n      !e.ctrlKey &&\n      [\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"].includes(e.key)\n    ) {\n      const hasSelection = input.selectionStart !== input.selectionEnd;\n      if (hasSelection) {\n        if (e.key === \"ArrowLeft\" && !cursorAtStart) {\n          return;\n        }\n        if (e.key === \"ArrowRight\" && !cursorAtEnd) {\n          return;\n        }\n      }\n\n      if (e.key === \"ArrowLeft\" && !cursorAtStart) {\n        return;\n      }\n      if (e.key === \"ArrowRight\" && !cursorAtEnd) {\n        return;\n      }\n\n      e.preventDefault();\n\n      setEditingCell(null);\n\n      const startCell: CellPosition = { rowIndex, field };\n      let endCell: CellPosition = { ...startCell };\n\n      if (e.key === \"ArrowUp\") {\n        endCell = { rowIndex: Math.max(0, rowIndex - 1), field };\n      } else if (e.key === \"ArrowDown\") {\n        endCell = { rowIndex: Math.min(rows.length - 1, rowIndex + 1), field };\n      } else if (e.key === \"ArrowLeft\") {\n        const currentFieldIndex = fields.indexOf(field);\n        if (currentFieldIndex > 0) {\n          endCell = { rowIndex, field: fields[currentFieldIndex - 1] };\n        }\n      } else if (e.key === \"ArrowRight\") {\n        const currentFieldIndex = fields.indexOf(field);\n        if (currentFieldIndex < fields.length - 1) {\n          endCell = { rowIndex, field: fields[currentFieldIndex + 1] };\n        }\n      }\n\n      setSelectedCellRange({ start: startCell, end: endCell });\n      setSelectedCell(endCell);\n\n      setSelectedRowIndex(null);\n      setSelectedRange(null);\n\n      return;\n    }\n\n    // Cmd/Ctrl + C: Copy row\n    if ((e.metaKey || e.ctrlKey) && e.key === \"c\") {\n      const hasSelection = input.selectionStart !== input.selectionEnd;\n      if (hasSelection) {\n        return;\n      }\n      e.preventDefault();\n      if (copyRow(rows[rowIndex])) {\n        showToast(\"Row copied!\", \"success\");\n      }\n      return;\n    }\n\n    // Enter: Move to next row\n    if (e.key === \"Enter\") {\n      if (isComposing) return;\n\n      e.preventDefault();\n\n      if (rowIndex === rows.length - 1) {\n        flushSync(() => {\n          const newRow = createEmptyRow();\n          setRows((prevRows: UTMRow[]) => [...prevRows, newRow]);\n        });\n\n        requestAnimationFrame(() => {\n          focusCell(rowIndex + 1, field);\n        });\n      } else {\n        focusCell(rowIndex + 1, field);\n      }\n    }\n    // ArrowDown: Move to row below\n    else if (e.key === \"ArrowDown\") {\n      if (isComposing) return;\n\n      e.preventDefault();\n      focusCell(rowIndex + 1, field);\n    }\n    // ArrowUp: Move to row above\n    else if (e.key === \"ArrowUp\") {\n      if (isComposing) return;\n\n      e.preventDefault();\n      focusCell(rowIndex - 1, field);\n    }\n    // ArrowRight: Move to right column\n    else if (e.key === \"ArrowRight\" && cursorAtEnd) {\n      e.preventDefault();\n      const currentFieldIndex = fields.indexOf(field);\n      if (currentFieldIndex < fields.length - 1) {\n        focusCell(rowIndex, fields[currentFieldIndex + 1]);\n      }\n    }\n    // ArrowLeft: Move to left column\n    else if (e.key === \"ArrowLeft\" && cursorAtStart) {\n      e.preventDefault();\n      const currentFieldIndex = fields.indexOf(field);\n      if (currentFieldIndex > 0) {\n        focusCell(rowIndex, fields[currentFieldIndex - 1]);\n      }\n    }\n  };\n\n  return {\n    selectedCell,\n    selectedCellRange,\n    selectedRowIndex,\n    selectedRange,\n    setSelectedCell,\n    setSelectedCellRange,\n    setSelectedRowIndex,\n    setSelectedRange,\n    handleCellSelectionKeyDown: wrappedCellSelectionKeyDown,\n    handleRowSelectionKeyDown,\n    handleInputFocus,\n    handleKeyDown,\n    isComposing,\n    onCompositionStart: () => setIsComposing(true),\n    onCompositionEnd: () => setIsComposing(false),\n    focusCell,\n  };\n};\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { createRowFromCopied } from \"@/utils/rowFactory\";\nimport type { UTMRow } from \"@/types\";\n\ninterface PasteResult {\n  success: boolean;\n  newRows?: UTMRow[];\n  insertedIndex?: number;\n}\n\n/**\n * Hook for row copy/paste functionality\n */\nexport const useRowClipboard = () => {\n  const [copiedRow, setCopiedRow] = useState<UTMRow | null>(null);\n  const [copiedRows, setCopiedRows] = useState<UTMRow[] | null>(null);\n\n  /**\n   * Copy a single row to clipboard\n   */\n  const copyRow = (row: UTMRow): boolean => {\n    setCopiedRow({ ...row });\n    setCopiedRows(null);\n    return true;\n  };\n\n  /**\n   * Copy multiple rows to clipboard\n   */\n  const copyRows = (rows: UTMRow[]): boolean => {\n    if (rows && rows.length > 0) {\n      setCopiedRows(rows.map((row) => ({ ...row })));\n      setCopiedRow(null);\n      return true;\n    }\n    return false;\n  };\n\n  /**\n   * Paste a single row at a specific position\n   */\n  const pasteRow = (rows: UTMRow[], rowIndex: number): PasteResult => {\n    if (!copiedRow && !copiedRows) {\n      return { success: false };\n    }\n\n    if (copiedRows && copiedRows.length > 0) {\n      return pasteRows(rows, rowIndex);\n    }\n\n    if (copiedRow) {\n      const newRow = createRowFromCopied(copiedRow);\n      const newRows = [\n        ...rows.slice(0, rowIndex + 1),\n        newRow,\n        ...rows.slice(rowIndex + 1),\n      ];\n\n      return {\n        success: true,\n        newRows,\n        insertedIndex: rowIndex + 1,\n      };\n    }\n\n    return { success: false };\n  };\n\n  /**\n   * Paste multiple rows at a specific position\n   */\n  const pasteRows = (rows: UTMRow[], rowIndex: number): PasteResult => {\n    if (!copiedRows || copiedRows.length === 0) {\n      return pasteRow(rows, rowIndex);\n    }\n\n    const newRows = copiedRows.map((row) => createRowFromCopied(row));\n    const updatedRows = [\n      ...rows.slice(0, rowIndex + 1),\n      ...newRows,\n      ...rows.slice(rowIndex + 1),\n    ];\n\n    return {\n      success: true,\n      newRows: updatedRows,\n      insertedIndex: rowIndex + 1,\n    };\n  };\n\n  return {\n    copiedRow,\n    copiedRows,\n    copyRow,\n    copyRows,\n    pasteRow,\n    pasteRows,\n    hasCopiedRow:\n      copiedRow !== null || (copiedRows !== null && copiedRows.length > 0),\n  };\n};\n","\"use client\";\n\nimport { useState, useCallback } from \"react\";\nimport type { ToastState } from \"@/types\";\n\n/**\n * Hook for managing toast notifications\n */\nexport const useToast = () => {\n  const [toast, setToast] = useState<ToastState | null>(null);\n\n  const showToast = useCallback(\n    (message: string, type: ToastState[\"type\"] = \"success\") => {\n      setToast({ message, type });\n    },\n    []\n  );\n\n  const hideToast = useCallback(() => {\n    setToast(null);\n  }, []);\n\n  return {\n    toast,\n    showToast,\n    hideToast,\n  };\n};\n","\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport type { UTMRow, UTMField, CellPosition, CellRange } from \"@/types\";\n\ninterface UseCellSelectionReturn {\n  selectedCell: CellPosition | null;\n  selectedCellRange: CellRange | null;\n  setSelectedCell: React.Dispatch<React.SetStateAction<CellPosition | null>>;\n  setSelectedCellRange: React.Dispatch<React.SetStateAction<CellRange | null>>;\n  handleCellSelectionKeyDown: (\n    e: React.KeyboardEvent,\n    rowIndex: number,\n    field: UTMField\n  ) => void;\n}\n\n/**\n * Hook for managing cell selection state\n */\nexport const useCellSelection = (\n  rows: UTMRow[],\n  setRows: (updater: (prev: UTMRow[]) => UTMRow[]) => void,\n  fields: UTMField[],\n  showToast: (message: string, type: \"success\" | \"warning\" | \"error\") => void,\n  setEditingCell: (cell: CellPosition | null) => void\n): UseCellSelectionReturn => {\n  const [selectedCell, setSelectedCell] = useState<CellPosition | null>(null);\n  const [selectedCellRange, setSelectedCellRange] = useState<CellRange | null>(\n    null\n  );\n  const selectedCellRangeRef = useRef(selectedCellRange);\n\n  useEffect(() => {\n    selectedCellRangeRef.current = selectedCellRange;\n  }, [selectedCellRange]);\n\n  const handleCellSelectionKeyDown = (\n    e: React.KeyboardEvent,\n    rowIndex: number,\n    field: UTMField\n  ) => {\n    if (!e || !e.key) return;\n\n    // Shift + Arrow: Cell range selection\n    if (\n      e.shiftKey &&\n      (e.key === \"ArrowUp\" ||\n        e.key === \"ArrowDown\" ||\n        e.key === \"ArrowLeft\" ||\n        e.key === \"ArrowRight\")\n    ) {\n      e.preventDefault();\n      const currentRange = selectedCellRangeRef.current;\n      const startCell: CellPosition = currentRange\n        ? currentRange.start\n        : { rowIndex, field };\n      let endCell: CellPosition = { rowIndex, field };\n\n      if (e.key === \"ArrowUp\") {\n        endCell = { rowIndex: Math.max(0, rowIndex - 1), field };\n      } else if (e.key === \"ArrowDown\") {\n        endCell = { rowIndex: Math.min(rows.length - 1, rowIndex + 1), field };\n      } else if (e.key === \"ArrowLeft\") {\n        const currentFieldIndex = fields.indexOf(field);\n        if (currentFieldIndex > 0) {\n          endCell = { rowIndex, field: fields[currentFieldIndex - 1] };\n        }\n      } else if (e.key === \"ArrowRight\") {\n        const currentFieldIndex = fields.indexOf(field);\n        if (currentFieldIndex < fields.length - 1) {\n          endCell = { rowIndex, field: fields[currentFieldIndex + 1] };\n        }\n      }\n\n      setSelectedCellRange({ start: startCell, end: endCell });\n      setSelectedCell(endCell);\n      return;\n    }\n\n    // Delete or Backspace: Delete cell values\n    if (e.key === \"Delete\" || e.key === \"Backspace\") {\n      e.preventDefault();\n      const currentRange = selectedCellRangeRef.current;\n      if (currentRange) {\n        const minRow = Math.min(\n          currentRange.start.rowIndex,\n          currentRange.end.rowIndex\n        );\n        const maxRow = Math.max(\n          currentRange.start.rowIndex,\n          currentRange.end.rowIndex\n        );\n        const startFieldIndex = fields.indexOf(currentRange.start.field);\n        const endFieldIndex = fields.indexOf(currentRange.end.field);\n        const minFieldIndex = Math.min(startFieldIndex, endFieldIndex);\n        const maxFieldIndex = Math.max(startFieldIndex, endFieldIndex);\n\n        setRows((prevRows) =>\n          prevRows.map((row, idx) => {\n            if (idx >= minRow && idx <= maxRow) {\n              const updatedRow = { ...row };\n              for (let i = minFieldIndex; i <= maxFieldIndex; i++) {\n                (updatedRow as Record<string, unknown>)[fields[i]] = \"\";\n              }\n              return updatedRow;\n            }\n            return row;\n          })\n        );\n      } else {\n        setRows((prevRows) =>\n          prevRows.map((row, idx) =>\n            idx === rowIndex\n              ? { ...row, [field]: \"\" }\n              : row\n          )\n        );\n      }\n      return;\n    }\n\n    // Cmd/Ctrl + C: Copy cell values\n    if ((e.metaKey || e.ctrlKey) && e.key === \"c\") {\n      e.preventDefault();\n      const currentRange = selectedCellRangeRef.current;\n      if (currentRange) {\n        const minRow = Math.min(\n          currentRange.start.rowIndex,\n          currentRange.end.rowIndex\n        );\n        const maxRow = Math.max(\n          currentRange.start.rowIndex,\n          currentRange.end.rowIndex\n        );\n        const startFieldIndex = fields.indexOf(currentRange.start.field);\n        const endFieldIndex = fields.indexOf(currentRange.end.field);\n        const minFieldIndex = Math.min(startFieldIndex, endFieldIndex);\n        const maxFieldIndex = Math.max(startFieldIndex, endFieldIndex);\n\n        const cellValues: string[] = [];\n        for (let r = minRow; r <= maxRow; r++) {\n          const rowValues: string[] = [];\n          for (let f = minFieldIndex; f <= maxFieldIndex; f++) {\n            const fieldKey = fields[f];\n            const row = rows[r];\n            rowValues.push(row[fieldKey] || \"\");\n          }\n          cellValues.push(rowValues.join(\"\\t\"));\n        }\n        const textToCopy = cellValues.join(\"\\n\");\n        navigator.clipboard.writeText(textToCopy);\n        showToast(\"Cell range copied to clipboard!\", \"success\");\n      } else {\n        const cellValue = rows[rowIndex][field] || \"\";\n        navigator.clipboard.writeText(cellValue);\n        showToast(\"Cell value copied to clipboard!\", \"success\");\n      }\n      return;\n    }\n\n    // Cmd/Ctrl + V: Paste cell values\n    if ((e.metaKey || e.ctrlKey) && e.key === \"v\") {\n      e.preventDefault();\n      navigator.clipboard\n        .readText()\n        .then((text) => {\n          if (!text) return;\n\n          const lines = text.split(\"\\n\").filter((line) => line.trim());\n          if (lines.length === 0) return;\n\n          const currentRange = selectedCellRangeRef.current;\n          const startRow = currentRange ? currentRange.start.rowIndex : rowIndex;\n          const startField = currentRange ? currentRange.start.field : field;\n          const startFieldIndex = fields.indexOf(startField);\n\n          setRows((prevRows) => {\n            const newRows = [...prevRows];\n            lines.forEach((line, lineIndex) => {\n              const values = line.split(\"\\t\");\n              const targetRowIndex = startRow + lineIndex;\n\n              if (targetRowIndex < newRows.length) {\n                values.forEach((value, colIndex) => {\n                  const targetFieldIndex = startFieldIndex + colIndex;\n                  if (targetFieldIndex < fields.length) {\n                    newRows[targetRowIndex] = {\n                      ...newRows[targetRowIndex],\n                      [fields[targetFieldIndex]]: value.trim(),\n                    };\n                  }\n                });\n              }\n            });\n            return newRows;\n          });\n          showToast(\"Pasted!\", \"success\");\n        })\n        .catch(() => {\n          showToast(\"Failed to read clipboard!\", \"error\");\n        });\n      return;\n    }\n\n    // Arrow keys: Navigate to adjacent cells\n    const arrowKeys: Record<\n      string,\n      {\n        rowDelta: number;\n        fieldDelta: number;\n        rowBoundCheck?: (r: number) => boolean;\n        fieldBoundCheck?: (f: number) => boolean;\n      }\n    > = {\n      ArrowUp: { rowDelta: -1, fieldDelta: 0, rowBoundCheck: (r) => r > 0 },\n      ArrowDown: {\n        rowDelta: 1,\n        fieldDelta: 0,\n        rowBoundCheck: (r) => r < rows.length - 1,\n      },\n      ArrowLeft: {\n        rowDelta: 0,\n        fieldDelta: -1,\n        fieldBoundCheck: (f) => f > 0,\n      },\n      ArrowRight: {\n        rowDelta: 0,\n        fieldDelta: 1,\n        fieldBoundCheck: (f) => f < fields.length - 1,\n      },\n    };\n\n    const arrowConfig = arrowKeys[e.key];\n    if (arrowConfig) {\n      e.preventDefault();\n      const currentRange = selectedCellRangeRef.current;\n\n      if (currentRange) {\n        const startRow = currentRange.start.rowIndex;\n        const startField = currentRange.start.field;\n        const startFieldIndex = fields.indexOf(startField);\n\n        const newRow = startRow + arrowConfig.rowDelta;\n        const newFieldIndex = startFieldIndex + arrowConfig.fieldDelta;\n\n        const canMoveRow = arrowConfig.rowBoundCheck\n          ? arrowConfig.rowBoundCheck(startRow)\n          : true;\n        const canMoveField = arrowConfig.fieldBoundCheck\n          ? arrowConfig.fieldBoundCheck(startFieldIndex)\n          : true;\n\n        if (canMoveRow && canMoveField) {\n          setSelectedCell({\n            rowIndex: newRow,\n            field:\n              arrowConfig.fieldDelta !== 0 ? fields[newFieldIndex] : startField,\n          });\n          setSelectedCellRange(null);\n        }\n      } else {\n        const currentFieldIndex = fields.indexOf(field);\n        const newRow = rowIndex + arrowConfig.rowDelta;\n        const newFieldIndex = currentFieldIndex + arrowConfig.fieldDelta;\n\n        const canMoveRow = arrowConfig.rowBoundCheck\n          ? arrowConfig.rowBoundCheck(rowIndex)\n          : true;\n        const canMoveField = arrowConfig.fieldBoundCheck\n          ? arrowConfig.fieldBoundCheck(currentFieldIndex)\n          : true;\n\n        if (canMoveRow && canMoveField) {\n          setSelectedCell({\n            rowIndex: newRow,\n            field: arrowConfig.fieldDelta !== 0 ? fields[newFieldIndex] : field,\n          });\n          setSelectedCellRange(null);\n        }\n      }\n      return;\n    }\n\n    // Enter or character input: Switch to edit mode\n    if (e.key === \"Enter\" || (e.key.length === 1 && !e.ctrlKey && !e.metaKey)) {\n      e.preventDefault();\n\n      if (e.key.length === 1 && e.key !== \"Enter\") {\n        setRows((prevRows) =>\n          prevRows.map((row, idx) =>\n            idx === rowIndex ? { ...row, [field]: e.key } : row\n          )\n        );\n      }\n\n      setSelectedCell(null);\n      setSelectedCellRange(null);\n      setEditingCell({ rowIndex, field });\n\n      return;\n    }\n  };\n\n  return {\n    selectedCell,\n    selectedCellRange,\n    setSelectedCell,\n    setSelectedCellRange,\n    handleCellSelectionKeyDown,\n  };\n};\n","\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRowClipboard } from \"./useRowClipboard\";\nimport type { UTMRow, UTMField, RowRange } from \"@/types\";\n\ninterface UseRowSelectionReturn {\n  selectedRowIndex: number | null;\n  selectedRange: RowRange | null;\n  setSelectedRowIndex: React.Dispatch<React.SetStateAction<number | null>>;\n  setSelectedRange: React.Dispatch<React.SetStateAction<RowRange | null>>;\n  handleRowSelectionKeyDown: (e: React.KeyboardEvent, rowIndex: number) => void;\n}\n\n/**\n * Hook for managing row selection state\n */\nexport const useRowSelection = (\n  rows: UTMRow[],\n  setRows: (updater: UTMRow[] | ((prev: UTMRow[]) => UTMRow[])) => void,\n  onDeleteRow: (id: string) => void,\n  onToggleSelect: (id: string) => void,\n  showToast: (message: string, type: \"success\" | \"warning\" | \"error\") => void,\n  focusCell: (rowIndex: number, field: UTMField) => void,\n  lastFocusedField: UTMField\n): UseRowSelectionReturn => {\n  const [selectedRowIndex, setSelectedRowIndex] = useState<number | null>(null);\n  const [selectedRange, setSelectedRange] = useState<RowRange | null>(null);\n\n  const { copyRow, copyRows, pasteRows } = useRowClipboard();\n\n  useEffect(() => {\n    if (selectedRowIndex !== null) {\n      requestAnimationFrame(() => {\n        const rowElement = document.querySelector(\n          `tr[data-row-index=\"${selectedRowIndex}\"]`\n        );\n        if (rowElement) {\n          (rowElement as HTMLElement).focus();\n        }\n      });\n    }\n  }, [selectedRowIndex, selectedRange]);\n\n  const handleRowSelectionKeyDown = (e: React.KeyboardEvent, rowIndex: number) => {\n    if (!e || !e.key) return;\n\n    // Shift + ArrowUp/Down: Range selection\n    if (e.shiftKey && (e.key === \"ArrowUp\" || e.key === \"ArrowDown\")) {\n      e.preventDefault();\n      const startIndex = selectedRange ? selectedRange.start : rowIndex;\n      let endIndex = rowIndex;\n\n      if (e.key === \"ArrowUp\") {\n        endIndex = Math.max(0, rowIndex - 1);\n      } else if (e.key === \"ArrowDown\") {\n        endIndex = Math.min(rows.length - 1, rowIndex + 1);\n      }\n\n      setSelectedRange({ start: startIndex, end: endIndex });\n      setSelectedRowIndex(endIndex);\n      return;\n    }\n\n    // Space: Toggle checkbox\n    if (e.key === \" \") {\n      e.preventDefault();\n      if (onToggleSelect) {\n        if (selectedRange) {\n          const minIndex = Math.min(selectedRange.start, selectedRange.end);\n          const maxIndex = Math.max(selectedRange.start, selectedRange.end);\n          const rangeRows = rows.slice(minIndex, maxIndex + 1);\n          const allSelected = rangeRows.every((row) => row.selected);\n\n          rangeRows.forEach((row) => {\n            if (allSelected && row.selected) {\n              onToggleSelect(row.id);\n            } else if (!allSelected && !row.selected) {\n              onToggleSelect(row.id);\n            }\n          });\n        } else {\n          onToggleSelect(rows[rowIndex].id);\n        }\n      }\n      return;\n    }\n\n    // ArrowUp/Down: Move rows\n    if (e.key === \"ArrowUp\" || e.key === \"ArrowDown\") {\n      e.preventDefault();\n      const delta = e.key === \"ArrowUp\" ? -1 : 1;\n      const boundCheck =\n        e.key === \"ArrowUp\"\n          ? (idx: number) => idx > 0\n          : (idx: number) => idx < rows.length - 1;\n\n      if (selectedRange) {\n        const startIndex = selectedRange.start;\n        if (boundCheck(startIndex)) {\n          setSelectedRowIndex(startIndex + delta);\n          setSelectedRange(null);\n        }\n      } else if (boundCheck(rowIndex)) {\n        setSelectedRowIndex(rowIndex + delta);\n      }\n    }\n    // Delete or Backspace: Delete rows\n    else if (e.key === \"Delete\" || e.key === \"Backspace\") {\n      e.preventDefault();\n      if (selectedRange) {\n        const minIndex = Math.min(selectedRange.start, selectedRange.end);\n        const maxIndex = Math.max(selectedRange.start, selectedRange.end);\n        const deleteCount = maxIndex - minIndex + 1;\n\n        if (rows.length - deleteCount < 1) {\n          showToast(\"At least 1 row is required!\", \"warning\");\n          return;\n        }\n\n        setRows((prevRows: UTMRow[]) =>\n          prevRows.filter((_, idx) => idx < minIndex || idx > maxIndex)\n        );\n\n        showToast(`${deleteCount} row(s) deleted!`, \"success\");\n\n        setSelectedRange(null);\n        const newRowCount = rows.length - deleteCount;\n        if (newRowCount > 0) {\n          const newIndex = Math.min(minIndex, newRowCount - 1);\n\n          requestAnimationFrame(() => {\n            setSelectedRowIndex(newIndex);\n            setTimeout(() => {\n              const rowElement = document.querySelector(\n                `tr[data-row-index=\"${newIndex}\"]`\n              );\n              if (rowElement) {\n                (rowElement as HTMLElement).focus();\n              }\n            }, 0);\n          });\n        } else {\n          setSelectedRowIndex(null);\n        }\n      } else {\n        if (rows.length > 1) {\n          onDeleteRow(rows[rowIndex].id);\n          showToast(\"Row deleted!\", \"success\");\n\n          const newFocusIndex = rowIndex > 0 ? rowIndex - 1 : 0;\n\n          requestAnimationFrame(() => {\n            setSelectedRowIndex(newFocusIndex);\n            setTimeout(() => {\n              const rowElement = document.querySelector(\n                `tr[data-row-index=\"${newFocusIndex}\"]`\n              );\n              if (rowElement) {\n                (rowElement as HTMLElement).focus();\n              }\n            }, 0);\n          });\n        } else {\n          showToast(\"At least 1 row is required!\", \"warning\");\n        }\n      }\n    }\n    // Cmd/Ctrl + C: Copy rows\n    else if ((e.metaKey || e.ctrlKey) && e.key === \"c\") {\n      e.preventDefault();\n      if (selectedRange) {\n        const minIndex = Math.min(selectedRange.start, selectedRange.end);\n        const maxIndex = Math.max(selectedRange.start, selectedRange.end);\n        const rowsToCopy = rows.slice(minIndex, maxIndex + 1);\n        if (copyRows(rowsToCopy)) {\n          showToast(`${rowsToCopy.length} row(s) copied!`, \"success\");\n        }\n      } else {\n        if (copyRow(rows[rowIndex])) {\n          showToast(\"Row copied!\", \"success\");\n        }\n      }\n    }\n    // Cmd/Ctrl + V: Paste rows\n    else if ((e.metaKey || e.ctrlKey) && e.key === \"v\") {\n      e.preventDefault();\n      const result = pasteRows(rows, rowIndex);\n      if (result.success && result.newRows) {\n        setRows(result.newRows);\n        if (result.insertedIndex !== undefined) {\n          setSelectedRowIndex(result.insertedIndex);\n        }\n        showToast(\"Row(s) pasted!\", \"success\");\n      }\n    }\n    // Enter or other keys: Exit row selection mode\n    else if (e.key === \"Enter\" || e.key.length === 1) {\n      e.preventDefault();\n      setSelectedRowIndex(null);\n      focusCell(rowIndex, lastFocusedField);\n    }\n    // ESC: Exit row selection mode\n    else if (e.key === \"Escape\") {\n      e.preventDefault();\n      setSelectedRowIndex(null);\n      setSelectedRange(null);\n      focusCell(rowIndex, lastFocusedField);\n    }\n  };\n\n  return {\n    selectedRowIndex,\n    selectedRange,\n    setSelectedRowIndex,\n    setSelectedRange,\n    handleRowSelectionKeyDown,\n  };\n};\n","\"use client\";\n\nimport { useReducer, useCallback, useRef } from \"react\";\n\ninterface HistoryState<T> {\n  past: T[];\n  present: T;\n  future: T[];\n}\n\ntype HistoryAction<T> =\n  | { type: \"SET\"; payload: T }\n  | { type: \"RECORD\"; payload: T }\n  | { type: \"UNDO\" }\n  | { type: \"REDO\" }\n  | { type: \"CLEAR\" };\n\ninterface HistoryOptions {\n  maxHistory?: number;\n  debounceMs?: number;\n  onUndoRedo?: (() => void) | null;\n}\n\ninterface HistoryControls {\n  undo: () => void;\n  redo: () => void;\n  canUndo: boolean;\n  canRedo: boolean;\n  clearHistory: () => void;\n}\n\n/**\n * Hook providing undo/redo functionality for state management\n */\nexport const useHistory = <T>(\n  initialState: T | (() => T),\n  options: HistoryOptions = {}\n): [T, (newState: T | ((prev: T) => T)) => void, HistoryControls] => {\n  const { maxHistory = 50, onUndoRedo = null } = options;\n\n  const createHistoryReducer = (maxHist: number) => {\n    return (\n      state: HistoryState<T>,\n      action: HistoryAction<T>\n    ): HistoryState<T> => {\n      switch (action.type) {\n        case \"SET\": {\n          return {\n            ...state,\n            present: action.payload,\n          };\n        }\n\n        case \"RECORD\": {\n          const newPast = [...state.past, action.payload];\n          if (newPast.length > maxHist) {\n            newPast.shift();\n          }\n          return {\n            past: newPast,\n            present: state.present,\n            future: [],\n          };\n        }\n\n        case \"UNDO\": {\n          if (state.past.length === 0) {\n            return state;\n          }\n\n          const previous = state.past[state.past.length - 1];\n          const newPast = state.past.slice(0, -1);\n\n          return {\n            past: newPast,\n            present: previous,\n            future: [state.present, ...state.future],\n          };\n        }\n\n        case \"REDO\": {\n          if (state.future.length === 0) {\n            return state;\n          }\n\n          const next = state.future[0];\n          const newFuture = state.future.slice(1);\n\n          return {\n            past: [...state.past, state.present],\n            present: next,\n            future: newFuture,\n          };\n        }\n\n        case \"CLEAR\": {\n          return {\n            past: [],\n            present: state.present,\n            future: [],\n          };\n        }\n\n        default:\n          return state;\n      }\n    };\n  };\n\n  const historyReducer = createHistoryReducer(maxHistory);\n\n  const computedInitialState =\n    typeof initialState === \"function\"\n      ? (initialState as () => T)()\n      : initialState;\n\n  const [state, dispatch] = useReducer(historyReducer, {\n    past: [],\n    present: computedInitialState,\n    future: [],\n  });\n\n  const isUndoRedoActionRef = useRef(false);\n\n  const cloneState = useCallback((s: T): T => {\n    return structuredClone(s);\n  }, []);\n\n  const recordSnapshot = useCallback(\n    (previousState: T) => {\n      if (isUndoRedoActionRef.current) {\n        return;\n      }\n\n      dispatch({\n        type: \"RECORD\",\n        payload: cloneState(previousState),\n      });\n    },\n    [cloneState]\n  );\n\n  const setStateWithHistory = useCallback(\n    (newStateOrUpdater: T | ((prev: T) => T)) => {\n      const currentPresent = state.present;\n      const newState =\n        typeof newStateOrUpdater === \"function\"\n          ? (newStateOrUpdater as (prev: T) => T)(currentPresent)\n          : newStateOrUpdater;\n\n      if (currentPresent === newState) {\n        return;\n      }\n\n      recordSnapshot(currentPresent);\n\n      dispatch({\n        type: \"SET\",\n        payload: newState,\n      });\n    },\n    [state.present, recordSnapshot]\n  );\n\n  const undo = useCallback(() => {\n    isUndoRedoActionRef.current = true;\n\n    dispatch({ type: \"UNDO\" });\n\n    if (onUndoRedo) onUndoRedo();\n\n    requestAnimationFrame(() => {\n      isUndoRedoActionRef.current = false;\n    });\n  }, [onUndoRedo]);\n\n  const redo = useCallback(() => {\n    isUndoRedoActionRef.current = true;\n\n    dispatch({ type: \"REDO\" });\n\n    if (onUndoRedo) onUndoRedo();\n\n    requestAnimationFrame(() => {\n      isUndoRedoActionRef.current = false;\n    });\n  }, [onUndoRedo]);\n\n  return [\n    state.present,\n    setStateWithHistory,\n    {\n      undo,\n      redo,\n      canUndo: state.past.length > 0,\n      canRedo: state.future.length > 0,\n      clearHistory: () => {\n        dispatch({ type: \"CLEAR\" });\n      },\n    },\n  ];\n};\n","interface BuilderTableHeaderProps {\n  allSelected: boolean;\n  onToggleSelectAll: () => void;\n}\n\n/**\n * Header component for UTM Builder table\n */\nfunction BuilderTableHeader({\n  allSelected,\n  onToggleSelectAll,\n}: BuilderTableHeaderProps) {\n  return (\n    <thead className=\"bg-white/5 backdrop-blur-sm\">\n      <tr>\n        <th className=\"px-3 py-3 text-center text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          <input\n            type=\"checkbox\"\n            onChange={onToggleSelectAll}\n            checked={allSelected}\n            className=\"w-4 h-4 cursor-pointer accent-gray-500\"\n          />\n        </th>\n        <th className=\"px-3 py-3 text-center text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          #\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          Base URL\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          Source\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          Medium\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          Campaign\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          Term\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          Content\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          Generated URL\n        </th>\n        <th className=\"px-3 py-3 text-center text-gray-200 text-xs font-semibold border-b border-white/10\">\n          Actions\n        </th>\n      </tr>\n    </thead>\n  );\n}\n\nexport default BuilderTableHeader;\n","\"use client\";\n\nimport { useEffect, useRef, KeyboardEvent } from \"react\";\nimport type { UTMField } from \"@/types\";\n\ninterface UTMTableInputProps {\n  value: string;\n  field: UTMField;\n  rowId: string;\n  rowIndex: number;\n  placeholder: string;\n  onChange: (id: string, field: UTMField, value: string) => void;\n  onFocus: (field: UTMField, rowIndex: number) => void;\n  onKeyDown: (e: React.KeyboardEvent, rowIndex: number, field: UTMField) => void;\n  isEditing: boolean;\n  isCellSelected: boolean;\n  onCellClick: (rowIndex: number, field: UTMField) => void;\n  onCompositionStart: () => void;\n  onCompositionEnd: () => void;\n}\n\n/**\n * Input field component for UTM table\n */\nfunction UTMTableInput({\n  value,\n  field,\n  rowId,\n  rowIndex,\n  placeholder,\n  onChange,\n  onFocus,\n  onKeyDown,\n  isEditing,\n  isCellSelected,\n  onCellClick,\n  onCompositionStart,\n  onCompositionEnd,\n}: UTMTableInputProps) {\n  const divRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  // Focus div when in cell selection mode\n  useEffect(() => {\n    if (isCellSelected && divRef.current) {\n      divRef.current.focus();\n    }\n  }, [isCellSelected]);\n\n  // Focus input when in edit mode\n  useEffect(() => {\n    if (isEditing && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isEditing]);\n\n  // Cell selection mode: render div (no cursor, focusable)\n  if (isCellSelected) {\n    return (\n      <div\n        ref={divRef}\n        onClick={() => onCellClick(rowIndex, field)}\n        onKeyDown={(e) => onKeyDown(e, rowIndex, field)}\n        data-row-index={rowIndex}\n        data-field={field}\n        tabIndex={0}\n        className=\"w-full bg-transparent text-gray-200 px-2 py-1 text-sm min-h-[28px] cursor-text focus:outline-none\"\n      >\n        {value ||\n          (rowIndex === 0 && (\n            <span className=\"text-gray-500\">{placeholder}</span>\n          ))}\n      </div>\n    );\n  }\n\n  // Edit mode or default: render input (with cursor)\n  return (\n    <input\n      ref={inputRef}\n      type=\"text\"\n      value={value}\n      onChange={(e) => onChange(rowId, field, e.target.value)}\n      onFocus={() => onFocus(field, rowIndex)}\n      onKeyDown={(e) => onKeyDown(e, rowIndex, field)}\n      onCompositionStart={onCompositionStart}\n      onCompositionEnd={onCompositionEnd}\n      data-row-index={rowIndex}\n      data-field={field}\n      placeholder={rowIndex === 0 ? placeholder : \"\"}\n      className=\"w-full glass-input text-gray-200 px-2 py-1 text-sm rounded\"\n    />\n  );\n}\n\nexport default UTMTableInput;\n","import type { UTMField, FieldConfig } from \"@/types\";\n\n// localStorage keys\nexport const STORAGE_KEYS = {\n  ROWS: \"utmBuilderRows\",\n  SAVED: \"utmBuilderSaved\",\n} as const;\n\n// Debounce delay (milliseconds)\nexport const DEBOUNCE_DELAY = 500;\n\n// List of editable fields\nexport const FIELDS: UTMField[] = [\n  \"baseUrl\",\n  \"source\",\n  \"medium\",\n  \"campaign\",\n  \"term\",\n  \"content\",\n];\n\n// Field configuration (includes placeholders)\nexport const FIELD_CONFIG: FieldConfig[] = [\n  { key: \"baseUrl\", placeholder: \"https://example.com\" },\n  { key: \"source\", placeholder: \"google\" },\n  { key: \"medium\", placeholder: \"cpc\" },\n  { key: \"campaign\", placeholder: \"spring_sale\" },\n  { key: \"term\", placeholder: \"running shoes\" },\n  { key: \"content\", placeholder: \"banner_ad\" },\n];\n","\"use client\";\n\nimport { KeyboardEvent } from \"react\";\nimport { buildUTMUrl } from \"@/utils/urlBuilder\";\nimport UTMTableInput from \"./UTMTableInput\";\nimport { FIELD_CONFIG } from \"@/constants\";\nimport type { UTMRow, UTMField, CellPosition, CellRange, RowRange } from \"@/types\";\n\ninterface UTMTableRowProps {\n  row: UTMRow;\n  index: number;\n  editingCell: CellPosition | null;\n  selectedCell: CellPosition | null;\n  selectedCellRange: CellRange | null;\n  selectedRowIndex: number | null;\n  selectedRange: RowRange | null;\n  onToggleSelect: (id: string) => void;\n  onChange: (id: string, field: UTMField, value: string) => void;\n  onInputFocus: (field: UTMField, rowIndex: number) => void;\n  onKeyDown: (e: React.KeyboardEvent, rowIndex: number, field: UTMField) => void;\n  onCellSelectionKeyDown: (\n    e: React.KeyboardEvent,\n    rowIndex: number,\n    field: UTMField\n  ) => void;\n  onCompositionStart: () => void;\n  onCompositionEnd: () => void;\n  onCopyUrl: (row: UTMRow) => void;\n  onTestUrl: (row: UTMRow) => void;\n  onRowSelectionKeyDown: (e: React.KeyboardEvent, rowIndex: number) => void;\n  onCellClick: (rowIndex: number, field: UTMField) => void;\n}\n\n/**\n * Component that renders individual rows in the UTM table\n */\nfunction UTMTableRow({\n  row,\n  index,\n  editingCell,\n  selectedCell,\n  selectedCellRange,\n  selectedRowIndex,\n  selectedRange,\n  onToggleSelect,\n  onChange,\n  onInputFocus,\n  onKeyDown,\n  onCellSelectionKeyDown,\n  onCompositionStart,\n  onCompositionEnd,\n  onCopyUrl,\n  onTestUrl,\n  onRowSelectionKeyDown,\n  onCellClick,\n}: UTMTableRowProps) {\n  const generatedUrl = buildUTMUrl(row);\n\n  // Check if within range selection\n  const isInRange =\n    selectedRange &&\n    index >= Math.min(selectedRange.start, selectedRange.end) &&\n    index <= Math.max(selectedRange.start, selectedRange.end);\n\n  // Check if row is selected\n  const isRowSelected = selectedRowIndex === index || isInRange;\n\n  return (\n    <tr\n      key={row.id}\n      data-row-index={index}\n      tabIndex={isRowSelected ? 0 : -1}\n      onKeyDown={(e) =>\n        isRowSelected && onRowSelectionKeyDown(e as unknown as KeyboardEvent, index)\n      }\n      className={`transition-all duration-200 ${\n        isRowSelected\n          ? \"bg-white/10 ring-2 ring-white/20 backdrop-blur-sm\"\n          : \"hover:bg-white/5\"\n      }`}\n    >\n      {/* Checkbox */}\n      <td className=\"px-3 py-2 text-center border-r border-b border-white/10\">\n        <input\n          type=\"checkbox\"\n          checked={row.selected || false}\n          onChange={() => onToggleSelect(row.id)}\n          className=\"w-4 h-4 cursor-pointer accent-gray-500\"\n        />\n      </td>\n\n      {/* Row number */}\n      <td className=\"px-3 py-2 text-center text-gray-200 text-sm border-r border-b border-white/10\">\n        {index + 1}\n      </td>\n\n      {/* Input fields */}\n      {FIELD_CONFIG.map((field) => {\n        // Check single cell selection\n        const isCellSelected =\n          selectedCell &&\n          selectedCell.rowIndex === index &&\n          selectedCell.field === field.key;\n\n        // Check if within cell range selection\n        const isInCellRange =\n          selectedCellRange &&\n          index >=\n            Math.min(\n              selectedCellRange.start.rowIndex,\n              selectedCellRange.end.rowIndex\n            ) &&\n          index <=\n            Math.max(\n              selectedCellRange.start.rowIndex,\n              selectedCellRange.end.rowIndex\n            );\n\n        // Check if field is within range\n        const currentFieldIndex = FIELD_CONFIG.findIndex(\n          (f) => f.key === field.key\n        );\n        const startFieldIndex = selectedCellRange\n          ? FIELD_CONFIG.findIndex(\n              (f) => f.key === selectedCellRange.start.field\n            )\n          : -1;\n        const endFieldIndex = selectedCellRange\n          ? FIELD_CONFIG.findIndex((f) => f.key === selectedCellRange.end.field)\n          : -1;\n\n        const isFieldInRange =\n          selectedCellRange &&\n          currentFieldIndex >= Math.min(startFieldIndex, endFieldIndex) &&\n          currentFieldIndex <= Math.max(startFieldIndex, endFieldIndex);\n\n        const isCellInRange = isInCellRange && isFieldInRange;\n\n        // Check edit mode\n        const isEditing =\n          editingCell &&\n          editingCell.rowIndex === index &&\n          editingCell.field === field.key;\n\n        return (\n          <td\n            key={field.key}\n            className={`px-2 py-1 border-r border-b border-white/10 ${\n              isCellSelected || isCellInRange\n                ? \"bg-white/10 ring-1 ring-white/20 backdrop-blur-sm\"\n                : \"\"\n            }`}\n          >\n            <UTMTableInput\n              value={row[field.key as keyof UTMRow] as string}\n              field={field.key}\n              rowId={row.id}\n              rowIndex={index}\n              placeholder={field.placeholder}\n              onChange={onChange}\n              onFocus={onInputFocus}\n              onKeyDown={\n                isEditing\n                  ? onKeyDown\n                  : isCellSelected || isCellInRange\n                  ? (e) => onCellSelectionKeyDown(e, index, field.key)\n                  : onKeyDown\n              }\n              onCompositionStart={onCompositionStart}\n              onCompositionEnd={onCompositionEnd}\n              isEditing={!!isEditing}\n              isCellSelected={!!isCellSelected}\n              onCellClick={onCellClick}\n            />\n          </td>\n        );\n      })}\n\n      {/* Generated URL */}\n      <td\n        className={`px-2 py-1 border-r border-b border-white/10 ${\n          isRowSelected ? \"\" : \"bg-white/2\"\n        }`}\n      >\n        <div\n          className={`text-sm max-w-sm overflow-x-auto whitespace-nowrap ${\n            generatedUrl ? \"text-gray-200\" : \"text-gray-500 italic\"\n          }`}\n        >\n          {generatedUrl || \"\"}\n        </div>\n      </td>\n\n      {/* Action buttons */}\n      <td className=\"px-2 py-1 border-b border-white/10\">\n        <div className=\"flex gap-2 justify-center\">\n          <button\n            onClick={() => onCopyUrl(row)}\n            disabled={!generatedUrl}\n            className=\"glass-button text-white p-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/20 transition-colors\"\n            title=\"Copy URL\"\n            aria-label=\"Copy URL\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-5 w-5\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              strokeWidth={2}\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"\n              />\n            </svg>\n          </button>\n          <button\n            onClick={() => onTestUrl(row)}\n            disabled={!generatedUrl}\n            className=\"glass-button glass-button-green text-white p-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/20 transition-colors\"\n            title=\"Open in new tab\"\n            aria-label=\"Open in new tab\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-5 w-5\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              strokeWidth={2}\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n              />\n            </svg>\n          </button>\n        </div>\n      </td>\n    </tr>\n  );\n}\n\nexport default UTMTableRow;\n","\"use client\";\n\nimport { useEffect } from \"react\";\nimport type { ToastState } from \"@/types\";\n\ninterface ToastProps extends ToastState {\n  onClose: () => void;\n}\n\n/**\n * Toast notification component\n */\nfunction Toast({ message, type = \"success\", onClose }: ToastProps) {\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      onClose();\n    }, 2000);\n\n    return () => clearTimeout(timer);\n  }, [onClose]);\n\n  const bgStyle = {\n    success: {\n      background: \"rgba(34, 197, 94, 0.2)\",\n      borderColor: \"rgba(34, 197, 94, 0.4)\",\n    },\n    error: {\n      background: \"rgba(239, 68, 68, 0.2)\",\n      borderColor: \"rgba(239, 68, 68, 0.4)\",\n    },\n    warning: {\n      background: \"rgba(234, 179, 8, 0.2)\",\n      borderColor: \"rgba(234, 179, 8, 0.4)\",\n    },\n  }[type];\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-50 animate-slide-up\">\n      <div\n        className=\"glass-strong text-white px-6 py-3 rounded-xl shadow-2xl flex items-center gap-2\"\n        style={bgStyle}\n      >\n        <span className=\"text-sm font-medium\">{message}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default Toast;\n","import type { ShortcutCategory } from \"@/types\";\n\ninterface KeyboardShortcutsProps {\n  shortcuts: ShortcutCategory[];\n}\n\n/**\n * Keyboard shortcuts guide component\n */\nfunction KeyboardShortcuts({ shortcuts }: KeyboardShortcutsProps) {\n  return (\n    <div className=\"mt-6 glass-subtle rounded-xl p-4\">\n      <div className=\"flex items-center gap-2 mb-4\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"h-4 w-4 text-gray-400\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n          strokeWidth={2}\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n          />\n        </svg>\n        <h3 className=\"text-sm font-semibold text-gray-300\">\n          Keyboard Shortcuts\n        </h3>\n      </div>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {shortcuts.map((group, groupIndex) => (\n          <div key={groupIndex} className=\"space-y-2\">\n            <h4 className=\"text-xs font-semibold text-gray-400 uppercase tracking-wide\">\n              {group.category}\n            </h4>\n            <div className=\"space-y-1.5\">\n              {group.items.map((shortcut, index) => (\n                <div key={index} className=\"flex items-center gap-2\">\n                  <kbd className=\"glass-button px-2 py-1 rounded text-xs font-mono text-gray-200 min-w-[90px] text-center\">\n                    {shortcut.key}\n                  </kbd>\n                  <span className=\"text-xs text-gray-400\">\n                    {shortcut.description}\n                  </span>\n                </div>\n              ))}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default KeyboardShortcuts;\n","\"use client\";\n\nimport { useEffect, useCallback } from \"react\";\nimport { buildUTMUrl } from \"@/utils/urlBuilder\";\nimport { createEmptyRow } from \"@/utils/rowFactory\";\nimport { useKeyboardNavigation } from \"@/hooks/useKeyboardNavigation\";\nimport { useToast } from \"@/hooks/useToast\";\nimport { useHistory } from \"@/hooks/useHistory\";\nimport BuilderTableHeader from \"./BuilderTableHeader\";\nimport UTMTableRow from \"./UTMTableRow\";\nimport Toast from \"./Toast\";\nimport KeyboardShortcuts from \"./KeyboardShortcuts\";\nimport { STORAGE_KEYS, DEBOUNCE_DELAY, FIELDS } from \"@/constants\";\nimport type { UTMRow, UTMField, CellPosition, HistoryState, SavedItem } from \"@/types\";\n\ninterface BuilderTabProps {\n  onSave: (items: SavedItem[]) => void;\n}\n\nfunction BuilderTab({ onSave }: BuilderTabProps) {\n  const fields = FIELDS;\n\n  const { toast, showToast, hideToast } = useToast();\n\n  const [historyState, setHistoryState, { undo, redo, canUndo, canRedo }] =\n    useHistory<HistoryState>(\n      () => {\n        if (typeof window === \"undefined\") {\n          return {\n            rows: [createEmptyRow(), createEmptyRow(), createEmptyRow()],\n            editingCell: null,\n          };\n        }\n        const saved = localStorage.getItem(STORAGE_KEYS.ROWS);\n        const initialRows = (() => {\n          if (saved) {\n            try {\n              return JSON.parse(saved) as UTMRow[];\n            } catch {\n              return [createEmptyRow(), createEmptyRow(), createEmptyRow()];\n            }\n          }\n          return [createEmptyRow(), createEmptyRow(), createEmptyRow()];\n        })();\n\n        if (saved) {\n          try {\n            const parsed = JSON.parse(saved);\n            if (Array.isArray(parsed)) {\n              return {\n                rows: parsed as UTMRow[],\n                editingCell: null,\n              };\n            }\n            return {\n              rows: initialRows,\n              editingCell: null,\n            };\n          } catch {\n            return {\n              rows: initialRows,\n              editingCell: null,\n            };\n          }\n        }\n        return {\n          rows: initialRows,\n          editingCell: null,\n        };\n      },\n      {\n        maxHistory: 50,\n        debounceMs: 500,\n      }\n    );\n\n  const { rows, editingCell } = historyState;\n\n  const setRows = (\n    updaterOrValue: UTMRow[] | ((prev: UTMRow[]) => UTMRow[]),\n    preserveEditingCell = true\n  ) => {\n    setHistoryState((prev) => {\n      const prevRows = prev.rows;\n      const nextRows =\n        typeof updaterOrValue === \"function\"\n          ? updaterOrValue(prevRows)\n          : updaterOrValue;\n      return {\n        ...prev,\n        rows: nextRows,\n        editingCell: preserveEditingCell ? prev.editingCell : null,\n      };\n    });\n  };\n\n  const setEditingCell = (nextEditingCell: CellPosition | null) => {\n    setHistoryState((prev) => ({\n      ...prev,\n      editingCell: nextEditingCell,\n    }));\n  };\n\n  const deleteRow = (id: string) => {\n    if (rows.length === 1) {\n      showToast(\"At least 1 row is required!\", \"warning\");\n      return;\n    }\n\n    const index = rows.findIndex((row) => row.id === id);\n    if (index === -1) return;\n\n    const rowsAfter = rows.filter((row) => row.id !== id);\n\n    let targetIndex: number;\n    if (index > 0) {\n      targetIndex = index - 1;\n    } else {\n      targetIndex = 0;\n    }\n\n    if (targetIndex >= rowsAfter.length) {\n      targetIndex = rowsAfter.length - 1;\n    }\n\n    setHistoryState((prev) => ({\n      ...prev,\n      editingCell: { rowIndex: index, field: fields[0] },\n    }));\n\n    setHistoryState((prev) => ({\n      ...prev,\n      rows: rowsAfter,\n      editingCell: { rowIndex: targetIndex, field: fields[0] },\n    }));\n  };\n\n  const toggleSelect = (id: string) => {\n    setRows((prevRows) =>\n      prevRows.map((row) =>\n        row.id === id ? { ...row, selected: !row.selected } : row\n      )\n    );\n  };\n\n  const {\n    selectedCell,\n    selectedCellRange,\n    selectedRowIndex,\n    selectedRange,\n    setSelectedCell,\n    setSelectedCellRange,\n    setSelectedRowIndex,\n    setSelectedRange,\n    handleCellSelectionKeyDown,\n    handleRowSelectionKeyDown,\n    handleInputFocus,\n    handleKeyDown,\n    isComposing,\n    onCompositionStart,\n    onCompositionEnd,\n  } = useKeyboardNavigation(\n    rows,\n    setRows,\n    fields,\n    deleteRow,\n    toggleSelect,\n    editingCell,\n    setEditingCell\n  );\n\n  const handleUndo = useCallback(() => {\n    undo();\n    setSelectedCell(null);\n    setSelectedCellRange(null);\n    setSelectedRowIndex(null);\n    setSelectedRange(null);\n  }, [\n    undo,\n    setSelectedCell,\n    setSelectedCellRange,\n    setSelectedRowIndex,\n    setSelectedRange,\n  ]);\n\n  const handleRedo = useCallback(() => {\n    redo();\n    setSelectedCell(null);\n    setSelectedCellRange(null);\n    setSelectedRowIndex(null);\n    setSelectedRange(null);\n  }, [\n    redo,\n    setSelectedCell,\n    setSelectedCellRange,\n    setSelectedRowIndex,\n    setSelectedRange,\n  ]);\n\n  const handleCellClick = (rowIndex: number, field: UTMField) => {\n    setEditingCell({ rowIndex, field });\n  };\n\n  const handleChange = (id: string, field: UTMField, value: string) => {\n    let processedValue = value;\n    if (\n      field === \"baseUrl\" &&\n      value &&\n      !value.startsWith(\"http://\") &&\n      !value.startsWith(\"https://\")\n    ) {\n      const trimmedValue = value.trim();\n      if (\n        trimmedValue &&\n        !trimmedValue.startsWith(\"http://\") &&\n        !trimmedValue.startsWith(\"https://\")\n      ) {\n        processedValue = `https://${trimmedValue}`;\n      }\n    }\n\n    setRows((prevRows) =>\n      prevRows.map((row) =>\n        row.id === id ? { ...row, [field]: processedValue } : row\n      )\n    );\n  };\n\n  const addRow = () => {\n    const newRow = createEmptyRow();\n    setHistoryState((prev) => {\n      const nextRows = [...prev.rows, newRow];\n      return {\n        ...prev,\n        rows: nextRows,\n        editingCell: { rowIndex: nextRows.length - 1, field: fields[0] },\n      };\n    });\n  };\n\n  const handleReset = () => {\n    setRows([createEmptyRow()]);\n  };\n\n  const toggleSelectAll = () => {\n    const allSelected = rows.every((row) => row.selected);\n    setRows((prevRows) =>\n      prevRows.map((row) => ({ ...row, selected: !allSelected }))\n    );\n  };\n\n  const saveSelected = useCallback(() => {\n    const selectedRows = rows.filter((row) => row.selected);\n\n    if (selectedRows.length === 0) {\n      showToast(\"Please select items to save!\", \"warning\");\n      return;\n    }\n\n    const savedItems = selectedRows\n      .map((row) => {\n        const fullUrl = buildUTMUrl(row);\n        if (!fullUrl) return null;\n\n        return {\n          id: Date.now() + Math.random(),\n          campaignName: `${row.source}-${row.medium}-${row.campaign}`,\n          savedAt: Date.now(),\n          comment: \"\",\n          params: {\n            source: row.source,\n            medium: row.medium,\n            campaign: row.campaign,\n            term: row.term,\n            content: row.content,\n          },\n          fullUrl: fullUrl,\n        };\n      })\n      .filter((item): item is SavedItem => item !== null);\n\n    if (savedItems.length === 0) {\n      showToast(\"Items without URLs cannot be saved!\", \"warning\");\n      return;\n    }\n\n    onSave(savedItems);\n\n    if (savedItems.length < selectedRows.length) {\n      const skippedCount = selectedRows.length - savedItems.length;\n      showToast(\n        `${savedItems.length} item(s) saved. (${skippedCount} item(s) excluded due to missing URL)`,\n        \"success\"\n      );\n    } else {\n      showToast(`${savedItems.length} item(s) saved!`, \"success\");\n    }\n  }, [rows, onSave, showToast]);\n\n  const copyUrl = (row: UTMRow) => {\n    const url = buildUTMUrl(row);\n    if (url) {\n      navigator.clipboard.writeText(url);\n      showToast(\"URL copied to clipboard!\", \"success\");\n    }\n  };\n\n  const openUrlInNewTab = (row: UTMRow) => {\n    const url = buildUTMUrl(row);\n    if (url) {\n      window.open(url, \"_blank\", \"noopener,noreferrer\");\n      showToast(\"Opened in new tab!\", \"success\");\n    }\n  };\n\n  const deleteSelectedRows = () => {\n    const selectedRows = rows.filter((row) => row.selected);\n\n    if (selectedRows.length === 0) {\n      showToast(\"Please select rows to delete!\", \"warning\");\n      return;\n    }\n\n    if (rows.length === selectedRows.length) {\n      showToast(\"At least 1 row is required!\", \"warning\");\n      return;\n    }\n\n    const remainingRows = rows.filter((row) => !row.selected);\n    setRows(remainingRows);\n    showToast(`${selectedRows.length} row(s) deleted!`, \"success\");\n  };\n\n  // Auto-save to localStorage\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const timer = setTimeout(() => {\n      localStorage.setItem(STORAGE_KEYS.ROWS, JSON.stringify(rows));\n    }, DEBOUNCE_DELAY);\n\n    return () => clearTimeout(timer);\n  }, [rows]);\n\n  // Focus management after undo/redo\n  useEffect(() => {\n    if (!editingCell) return;\n    const { rowIndex, field } = editingCell;\n    if (rowIndex == null || !field) return;\n\n    requestAnimationFrame(() => {\n      const selector = `input[data-row-index=\"${rowIndex}\"][data-field=\"${field}\"]`;\n      const input = document.querySelector(selector) as HTMLInputElement;\n      if (input) {\n        input.focus();\n        const length = input.value?.length ?? 0;\n        input.setSelectionRange(length, length);\n      }\n    });\n  }, [editingCell]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDownGlobal = (e: globalThis.KeyboardEvent) => {\n      if ((e.metaKey || e.ctrlKey) && e.key === \"z\" && !e.shiftKey) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (canUndo) {\n          handleUndo();\n        }\n        return;\n      }\n\n      if ((e.metaKey || e.ctrlKey) && e.key === \"z\" && e.shiftKey) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (canRedo) {\n          handleRedo();\n        }\n        return;\n      }\n\n      if ((e.metaKey || e.ctrlKey) && e.key === \"s\") {\n        e.preventDefault();\n        e.stopPropagation();\n        saveSelected();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDownGlobal, true);\n    return () => window.removeEventListener(\"keydown\", handleKeyDownGlobal, true);\n  }, [canUndo, canRedo, handleUndo, handleRedo, saveSelected]);\n\n  const hasSelectedRows = rows.some((row) => row.selected);\n  const allSelected = rows.length > 0 && rows.every((row) => row.selected);\n\n  return (\n    <div className=\"max-w-full mx-auto p-6\">\n      {/* Control buttons */}\n      <div className=\"mb-4 flex gap-3 items-center\">\n        <button\n          onClick={handleReset}\n          className=\"glass-button text-gray-300 hover:text-white px-4 py-2 rounded-xl font-medium shadow-lg\"\n          title=\"Delete all data\"\n        >\n          Reset All\n        </button>\n\n        <div className=\"flex-1\"></div>\n\n        <button\n          onClick={toggleSelectAll}\n          className=\"glass-button glass-button-purple text-white px-4 py-2 rounded-xl font-medium shadow-lg\"\n        >\n          {allSelected ? \"Deselect All\" : \"Select All\"}\n        </button>\n\n        <div className=\"h-8 w-px bg-white/10\"></div>\n\n        <button\n          onClick={saveSelected}\n          disabled={!hasSelectedRows}\n          className={`glass-button text-white px-4 py-2 rounded-xl font-medium shadow-lg ${\n            !hasSelectedRows ? \"opacity-50 cursor-not-allowed\" : \"\"\n          }`}\n          title=\"Save selected items (âŒ˜S)\"\n        >\n          Save Selected\n        </button>\n\n        <button\n          onClick={deleteSelectedRows}\n          disabled={!hasSelectedRows}\n          className={`glass-button glass-button-red text-white px-4 py-2 rounded-xl font-medium shadow-lg ${\n            !hasSelectedRows ? \"opacity-50 cursor-not-allowed\" : \"\"\n          }`}\n          title=\"Delete selected rows (Delete)\"\n        >\n          Delete Selected\n        </button>\n      </div>\n\n      {/* Table */}\n      <div className=\"overflow-x-auto rounded-2xl glass-strong shadow-2xl\">\n        <table className=\"w-full\">\n          <BuilderTableHeader\n            allSelected={rows.length > 0 && rows.every((row) => row.selected)}\n            onToggleSelectAll={toggleSelectAll}\n          />\n          <tbody>\n            {rows.map((row, index) => (\n              <UTMTableRow\n                key={row.id}\n                row={row}\n                index={index}\n                editingCell={editingCell}\n                selectedCell={selectedCell}\n                selectedCellRange={selectedCellRange}\n                selectedRowIndex={selectedRowIndex}\n                selectedRange={selectedRange}\n                onToggleSelect={toggleSelect}\n                onChange={handleChange}\n                onInputFocus={handleInputFocus}\n                onKeyDown={handleKeyDown}\n                onCellSelectionKeyDown={handleCellSelectionKeyDown}\n                onCompositionStart={onCompositionStart}\n                onCompositionEnd={onCompositionEnd}\n                onCopyUrl={copyUrl}\n                onTestUrl={openUrlInNewTab}\n                onRowSelectionKeyDown={handleRowSelectionKeyDown}\n                onCellClick={handleCellClick}\n              />\n            ))}\n          </tbody>\n        </table>\n\n        {/* Add row button */}\n        <button\n          onClick={addRow}\n          className=\"w-full py-3 text-gray-300 hover:text-white hover:bg-white/5 transition-all duration-200 rounded-b-2xl flex items-center justify-center border-t border-white/10\"\n          aria-label=\"Add row\"\n        >\n          <svg\n            className=\"w-4 h-4\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 4v16m8-8H4\"\n            />\n          </svg>\n        </button>\n      </div>\n\n      {/* Keyboard shortcuts guide */}\n      <KeyboardShortcuts\n        shortcuts={[\n          {\n            category: \"Edit\",\n            items: [\n              { key: \"âŒ˜/Ctrl + Z\", description: \"Undo\" },\n              { key: \"âŒ˜/Ctrl + Shift + Z\", description: \"Redo\" },\n              { key: \"âŒ˜/Ctrl + C\", description: \"Copy row\" },\n              { key: \"âŒ˜/Ctrl + V\", description: \"Paste row\" },\n            ],\n          },\n          {\n            category: \"Navigation\",\n            items: [\n              { key: \"â† â†’ â†‘ â†“\", description: \"Move cells\" },\n              { key: \"Enter\", description: \"Move to row below\" },\n              { key: \"ESC\", description: \"Switch mode\" },\n            ],\n          },\n          {\n            category: \"Selection & Actions\",\n            items: [\n              { key: \"Shift + Arrow keys\", description: \"Range selection\" },\n              { key: \"Space\", description: \"Toggle checkbox\" },\n              { key: \"Delete\", description: \"Delete selected rows\" },\n              { key: \"âŒ˜/Ctrl + S\", description: \"Save selected items\" },\n            ],\n          },\n        ]}\n      />\n\n      {/* Toast notifications */}\n      {toast && (\n        <Toast message={toast.message} type={toast.type} onClose={hideToast} />\n      )}\n    </div>\n  );\n}\n\nexport default BuilderTab;\n","interface SavedTableHeaderProps {\n  allSelected: boolean;\n  onToggleSelectAll: () => void;\n}\n\n/**\n * Header component for Saved Tab table\n */\nfunction SavedTableHeader({\n  allSelected,\n  onToggleSelectAll,\n}: SavedTableHeaderProps) {\n  return (\n    <thead className=\"bg-white/5 backdrop-blur-sm\">\n      <tr>\n        <th className=\"px-3 py-3 text-center text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          <input\n            type=\"checkbox\"\n            onChange={onToggleSelectAll}\n            checked={allSelected}\n            className=\"w-4 h-4 cursor-pointer accent-gray-500\"\n          />\n        </th>\n        <th className=\"px-3 py-3 text-center text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          #\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          Source\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          Medium\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          Campaign\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          Term\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          Content\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-r border-b border-white/10\">\n          Generated URL\n        </th>\n        <th className=\"px-3 py-3 text-left text-gray-200 text-xs font-semibold border-b border-white/10\">\n          Comment\n        </th>\n      </tr>\n    </thead>\n  );\n}\n\nexport default SavedTableHeader;\n","\"use client\";\n\nimport type { SavedItemWithSelection } from \"@/types\";\n\ninterface SavedTableRowProps {\n  item: SavedItemWithSelection;\n  index: number;\n  isSelected: boolean;\n  onToggleSelect: (id: number) => void;\n  editingCommentId: number | null;\n  editComment: string;\n  onStartEditComment: (item: SavedItemWithSelection) => void;\n  onSaveComment: (id: number) => void;\n  onCancelEditComment: () => void;\n  onUpdateEditComment: (value: string) => void;\n}\n\n/**\n * Component that renders individual rows in the Saved Tab table\n */\nfunction SavedTableRow({\n  item,\n  index,\n  isSelected,\n  onToggleSelect,\n  editingCommentId,\n  editComment,\n  onStartEditComment,\n  onSaveComment,\n  onCancelEditComment,\n  onUpdateEditComment,\n}: SavedTableRowProps) {\n  const isEditing = editingCommentId === item.id;\n\n  return (\n    <tr\n      className={`transition-all duration-200 ${\n        isSelected\n          ? \"bg-white/10 ring-2 ring-white/20 backdrop-blur-sm\"\n          : \"hover:bg-white/5\"\n      }`}\n    >\n      {/* Checkbox */}\n      <td className=\"px-3 py-2 text-center border-r border-b border-white/10\">\n        <input\n          type=\"checkbox\"\n          checked={isSelected || false}\n          onChange={() => onToggleSelect(item.id)}\n          className=\"w-4 h-4 cursor-pointer accent-gray-500\"\n        />\n      </td>\n\n      {/* Row number */}\n      <td className=\"px-3 py-2 text-center text-gray-200 text-sm border-r border-b border-white/10\">\n        {index + 1}\n      </td>\n\n      {/* Source */}\n      <td className=\"px-2 py-1 border-r border-b border-white/10\">\n        <div className=\"text-sm text-white\">{item.params.source || \"-\"}</div>\n      </td>\n\n      {/* Medium */}\n      <td className=\"px-2 py-1 border-r border-b border-white/10\">\n        <div className=\"text-sm text-white\">{item.params.medium || \"-\"}</div>\n      </td>\n\n      {/* Campaign */}\n      <td className=\"px-2 py-1 border-r border-b border-white/10\">\n        <div className=\"text-sm text-white\">{item.params.campaign || \"-\"}</div>\n      </td>\n\n      {/* Term */}\n      <td className=\"px-2 py-1 border-r border-b border-white/10\">\n        <div className=\"text-sm text-gray-300\">{item.params.term || \"-\"}</div>\n      </td>\n\n      {/* Content */}\n      <td className=\"px-2 py-1 border-r border-b border-white/10\">\n        <div className=\"text-sm text-gray-300\">\n          {item.params.content || \"-\"}\n        </div>\n      </td>\n\n      {/* Generated URL */}\n      <td\n        className={`px-2 py-1 border-r border-b border-white/10 ${\n          isSelected ? \"\" : \"bg-white/2\"\n        }`}\n      >\n        <div className=\"text-sm max-w-sm overflow-x-auto whitespace-nowrap text-gray-200\">\n          {item.fullUrl || \"\"}\n        </div>\n      </td>\n\n      {/* Comment */}\n      <td className=\"px-2 py-1 border-b border-white/10\">\n        {isEditing ? (\n          <div className=\"flex gap-1\">\n            <input\n              type=\"text\"\n              value={editComment}\n              onChange={(e) => onUpdateEditComment(e.target.value)}\n              placeholder=\"Enter comment\"\n              className=\"flex-1 glass-input text-gray-200 px-2 py-1 rounded-lg text-sm\"\n              autoFocus\n              onKeyDown={(e) => {\n                if (e.key === \"Enter\") {\n                  onSaveComment(item.id);\n                } else if (e.key === \"Escape\") {\n                  onCancelEditComment();\n                }\n              }}\n            />\n            <button\n              onClick={() => onSaveComment(item.id)}\n              className=\"glass-button glass-button-green text-white px-2 py-1 rounded-lg text-xs\"\n              title=\"Save (Enter)\"\n            >\n              Save\n            </button>\n            <button\n              onClick={onCancelEditComment}\n              className=\"glass-button text-white px-2 py-1 rounded-lg text-xs\"\n              title=\"Cancel (Esc)\"\n            >\n              Cancel\n            </button>\n          </div>\n        ) : (\n          <div\n            onClick={() => onStartEditComment(item)}\n            className=\"glass-subtle text-gray-200 px-2 py-1 rounded-lg cursor-pointer hover:border-white/30 transition duration-200 text-sm min-h-[28px] flex items-center\"\n          >\n            {item.comment || \"Click to add comment\"}\n          </div>\n        )}\n      </td>\n    </tr>\n  );\n}\n\nexport default SavedTableRow;\n","\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useToast } from \"@/hooks/useToast\";\nimport Toast from \"./Toast\";\nimport SavedTableHeader from \"./SavedTableHeader\";\nimport SavedTableRow from \"./SavedTableRow\";\nimport type { SavedItem, SavedItemWithSelection } from \"@/types\";\n\ninterface SavedTabProps {\n  savedItems: SavedItem[];\n  onDelete: (id: number) => void;\n  onDeleteAll: () => void;\n  onDeleteSelected: (ids: number[]) => void;\n  onUpdateComment: (id: number, comment: string) => void;\n}\n\nfunction SavedTab({\n  savedItems,\n  onDelete,\n  onDeleteAll,\n  onDeleteSelected,\n  onUpdateComment,\n}: SavedTabProps) {\n  const [editingCommentId, setEditingCommentId] = useState<number | null>(null);\n  const [editComment, setEditComment] = useState(\"\");\n\n  const [itemsWithSelection, setItemsWithSelection] = useState<\n    SavedItemWithSelection[]\n  >(() => savedItems.map((item) => ({ ...item, selected: false })));\n\n  useEffect(() => {\n    setItemsWithSelection((prev) => {\n      const prevMap = new Map(prev.map((item) => [item.id, item.selected]));\n      return savedItems.map((item) => ({\n        ...item,\n        selected: prevMap.get(item.id) || false,\n      }));\n    });\n  }, [savedItems]);\n\n  const { toast, showToast, hideToast } = useToast();\n\n  const startEditComment = (item: SavedItemWithSelection) => {\n    setEditingCommentId(item.id);\n    setEditComment(item.comment || \"\");\n  };\n\n  const saveComment = (id: number) => {\n    onUpdateComment(id, editComment);\n    setEditingCommentId(null);\n    setEditComment(\"\");\n  };\n\n  const cancelEditComment = () => {\n    setEditingCommentId(null);\n    setEditComment(\"\");\n  };\n\n  const updateEditComment = (value: string) => {\n    setEditComment(value);\n  };\n\n  const toggleSelect = (id: number) => {\n    setItemsWithSelection((prev) =>\n      prev.map((item) =>\n        item.id === id ? { ...item, selected: !item.selected } : item\n      )\n    );\n  };\n\n  const toggleSelectAll = () => {\n    const allSelected = itemsWithSelection.every((item) => item.selected);\n    setItemsWithSelection((prev) =>\n      prev.map((item) => ({ ...item, selected: !allSelected }))\n    );\n  };\n\n  const handleDeleteSelected = () => {\n    const selectedItems = itemsWithSelection.filter((item) => item.selected);\n    if (selectedItems.length === 0) {\n      showToast(\"Please select items to delete!\", \"warning\");\n      return;\n    }\n    onDeleteSelected(selectedItems.map((item) => item.id));\n  };\n\n  const allSelected =\n    itemsWithSelection.length > 0 &&\n    itemsWithSelection.every((item) => item.selected);\n\n  const hasSelectedRows = itemsWithSelection.some((item) => item.selected);\n\n  if (savedItems.length === 0) {\n    return (\n      <div className=\"max-w-full mx-auto p-6\">\n        <div className=\"glass-strong rounded-2xl p-12 text-center shadow-xl\">\n          <p className=\"text-gray-200 text-lg\">No saved URLs.</p>\n          <p className=\"text-gray-400 text-sm mt-2\">\n            Select and save URLs from the Builder tab.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-full mx-auto p-6\">\n      {/* Control buttons */}\n      <div className=\"mb-4 flex gap-3 items-center\">\n        <div className=\"flex-1\"></div>\n\n        <button\n          onClick={toggleSelectAll}\n          className=\"glass-button glass-button-purple text-white px-4 py-2 rounded-xl font-medium shadow-lg\"\n        >\n          {allSelected ? \"Deselect All\" : \"Select All\"}\n        </button>\n\n        <div className=\"h-8 w-px bg-white/10\"></div>\n\n        <button\n          onClick={handleDeleteSelected}\n          disabled={!hasSelectedRows}\n          className={`glass-button glass-button-red text-white px-4 py-2 rounded-xl font-medium shadow-lg ${\n            !hasSelectedRows ? \"opacity-50 cursor-not-allowed\" : \"\"\n          }`}\n          title=\"Delete selected items\"\n        >\n          Delete Selected\n        </button>\n      </div>\n\n      {/* Table format */}\n      <div className=\"overflow-x-auto rounded-2xl glass-strong shadow-2xl\">\n        <table className=\"w-full\">\n          <SavedTableHeader\n            allSelected={allSelected}\n            onToggleSelectAll={toggleSelectAll}\n          />\n          <tbody>\n            {itemsWithSelection.map((item, index) => (\n              <SavedTableRow\n                key={item.id}\n                item={item}\n                index={index}\n                isSelected={item.selected}\n                onToggleSelect={toggleSelect}\n                editingCommentId={editingCommentId}\n                editComment={editComment}\n                onStartEditComment={startEditComment}\n                onSaveComment={saveComment}\n                onCancelEditComment={cancelEditComment}\n                onUpdateEditComment={updateEditComment}\n              />\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Toast notifications */}\n      {toast && (\n        <Toast message={toast.message} type={toast.type} onClose={hideToast} />\n      )}\n    </div>\n  );\n}\n\nexport default SavedTab;\n","/**\n * UTM Guide component - Server Component (no 'use client')\n * Educational content about UTM parameters\n */\nfunction UTMGuide() {\n  return (\n    <div className=\"max-w-6xl mx-auto p-6 mt-12 relative z-10\">\n      {/* Divider */}\n      <div className=\"border-t border-white/10 mb-12\"></div>\n\n      {/* Title */}\n      <div className=\"text-center mb-8\">\n        <h2 className=\"text-3xl font-bold text-white mb-3 drop-shadow-lg\">\n          What are UTM Parameters?\n        </h2>\n        <p className=\"text-gray-200 text-lg max-w-3xl mx-auto\">\n          UTM parameters are tags added to URLs to track the traffic source of\n          marketing campaigns. You can analyze which channels are most effective\n          in Google Analytics.\n        </p>\n      </div>\n\n      {/* 5 Parameter Cards */}\n      <div className=\"grid md:grid-cols-2 gap-6 mb-12\">\n        {/* utm_source */}\n        <div className=\"glass rounded-2xl p-6 shadow-xl\">\n          <div className=\"flex items-start gap-3 mb-3\">\n            <span className=\"glass-button glass-button-gray text-white px-3 py-1 rounded-lg text-sm font-semibold\">\n              Required\n            </span>\n            <h3 className=\"text-xl font-bold text-white\">utm_source</h3>\n          </div>\n          <p className=\"text-gray-200 mb-4\">\n            Identifies where traffic comes from. (advertising platform, search\n            engine, newsletter, etc.)\n          </p>\n          <div className=\"glass-subtle p-4 rounded-xl\">\n            <p className=\"text-sm text-gray-300 mb-2\">Examples:</p>\n            <code className=\"text-green-300 text-sm\">\n              utm_source=google\n              <br />\n              utm_source=facebook\n              <br />\n              utm_source=newsletter\n            </code>\n          </div>\n        </div>\n\n        {/* utm_medium */}\n        <div className=\"glass rounded-2xl p-6 shadow-xl\">\n          <div className=\"flex items-start gap-3 mb-3\">\n            <span className=\"glass-button glass-button-gray text-white px-3 py-1 rounded-lg text-sm font-semibold\">\n              Required\n            </span>\n            <h3 className=\"text-xl font-bold text-white\">utm_medium</h3>\n          </div>\n          <p className=\"text-gray-200 mb-4\">\n            Indicates the type of marketing medium. (paid advertising, email,\n            social media, etc.)\n          </p>\n          <div className=\"glass-subtle p-4 rounded-xl\">\n            <p className=\"text-sm text-gray-300 mb-2\">Examples:</p>\n            <code className=\"text-green-300 text-sm\">\n              utm_medium=cpc (cost per click)\n              <br />\n              utm_medium=email\n              <br />\n              utm_medium=social\n            </code>\n          </div>\n        </div>\n\n        {/* utm_campaign */}\n        <div className=\"glass rounded-2xl p-6 shadow-xl\">\n          <div className=\"flex items-start gap-3 mb-3\">\n            <span className=\"glass-button glass-button-gray text-white px-3 py-1 rounded-lg text-sm font-semibold\">\n              Required\n            </span>\n            <h3 className=\"text-xl font-bold text-white\">utm_campaign</h3>\n          </div>\n          <p className=\"text-gray-200 mb-4\">\n            Identifies a specific campaign. (promotion name, strategic campaign,\n            etc.)\n          </p>\n          <div className=\"glass-subtle p-4 rounded-xl\">\n            <p className=\"text-sm text-gray-300 mb-2\">Examples:</p>\n            <code className=\"text-green-300 text-sm\">\n              utm_campaign=spring_sale\n              <br />\n              utm_campaign=black_friday\n              <br />\n              utm_campaign=product_launch\n            </code>\n          </div>\n        </div>\n\n        {/* utm_term */}\n        <div className=\"glass rounded-2xl p-6 shadow-xl\">\n          <div className=\"flex items-start gap-3 mb-3\">\n            <span className=\"glass-button glass-button-gray text-white px-3 py-1 rounded-lg text-sm font-semibold\">\n              Optional\n            </span>\n            <h3 className=\"text-xl font-bold text-white\">utm_term</h3>\n          </div>\n          <p className=\"text-gray-200 mb-4\">\n            Tracks keywords for paid search advertising. (Google Ads, etc.)\n          </p>\n          <div className=\"glass-subtle p-4 rounded-xl\">\n            <p className=\"text-sm text-gray-300 mb-2\">Examples:</p>\n            <code className=\"text-green-300 text-sm\">\n              utm_term=running+shoes\n              <br />\n              utm_term=best+laptop\n              <br />\n              utm_term=marketing+tools\n            </code>\n          </div>\n        </div>\n\n        {/* utm_content */}\n        <div className=\"glass rounded-2xl p-6 shadow-xl md:col-span-2\">\n          <div className=\"flex items-start gap-3 mb-3\">\n            <span className=\"glass-button glass-button-gray text-white px-3 py-1 rounded-lg text-sm font-semibold\">\n              Optional\n            </span>\n            <h3 className=\"text-xl font-bold text-white\">utm_content</h3>\n          </div>\n          <p className=\"text-gray-200 mb-4\">\n            Distinguishes multiple links within the same ad. (A/B testing,\n            banner placement, etc.)\n          </p>\n          <div className=\"glass-subtle p-4 rounded-xl\">\n            <p className=\"text-sm text-gray-300 mb-2\">Examples:</p>\n            <code className=\"text-green-300 text-sm\">\n              utm_content=banner_ad (banner ad)\n              <br />\n              utm_content=text_link (text link)\n              <br />\n              utm_content=header_cta (header CTA button)\n            </code>\n          </div>\n        </div>\n      </div>\n\n      {/* Real-world Usage Example */}\n      <div className=\"glass-strong rounded-2xl p-8 mb-12 shadow-xl\">\n        <h3 className=\"text-2xl font-bold text-white mb-4\">\n          Real-world Usage Example\n        </h3>\n        <p className=\"text-gray-200 mb-4\">\n          If you&apos;re running a spring sale campaign on Facebook ads:\n        </p>\n        <div className=\"glass-subtle p-4 rounded-xl overflow-x-auto\">\n          <code className=\"text-gray-200 text-sm break-all\">\n            https://example.com?utm_source=facebook&utm_medium=cpc&utm_campaign=spring_sale&utm_content=banner_ad\n          </code>\n        </div>\n        <p className=\"text-gray-300 mt-4 text-sm\">\n          â†’ In Google Analytics, you can track the number of visitors who\n          clicked on the &quot;spring sale campaign banner from Facebook paid ads&quot;.\n        </p>\n      </div>\n\n      {/* Best Practices */}\n      <div className=\"glass-strong rounded-2xl p-8 shadow-xl\">\n        <h3 className=\"text-2xl font-bold text-white mb-4\">\n          UTM Parameter Naming Rules (Best Practices)\n        </h3>\n        <ul className=\"space-y-3 text-gray-200\">\n          <li className=\"flex items-start gap-3\">\n            <span className=\"text-green-300 mt-1\">âœ“</span>\n            <span>\n              <strong className=\"text-white\">Use lowercase:</strong> Use{\" \"}\n              <code className=\"glass-subtle px-2 py-1 rounded-lg text-green-300\">\n                utm_source=google\n              </code>{\" \"}\n              instead of utm_source=Google\n            </span>\n          </li>\n          <li className=\"flex items-start gap-3\">\n            <span className=\"text-green-300 mt-1\">âœ“</span>\n            <span>\n              <strong className=\"text-white\">Maintain consistency:</strong>{\" \"}\n              Always use the same naming convention (e.g., facebook vs fb)\n            </span>\n          </li>\n          <li className=\"flex items-start gap-3\">\n            <span className=\"text-green-300 mt-1\">âœ“</span>\n            <span>\n              <strong className=\"text-white\">Use underscores:</strong> Use{\" \"}\n              <code className=\"glass-subtle px-2 py-1 rounded-lg text-green-300\">\n                spring_sale\n              </code>{\" \"}\n              instead of spaces (automatically encoded)\n            </span>\n          </li>\n          <li className=\"flex items-start gap-3\">\n            <span className=\"text-green-300 mt-1\">âœ“</span>\n            <span>\n              <strong className=\"text-white\">Keep it concise:</strong> Use\n              meaningful abbreviations rather than long names\n            </span>\n          </li>\n          <li className=\"flex items-start gap-3\">\n            <span className=\"text-red-300 mt-1\">âœ—</span>\n            <span>\n              <strong className=\"text-white\">No personal information:</strong>{\" \"}\n              Do not include sensitive information like emails or phone numbers\n            </span>\n          </li>\n        </ul>\n      </div>\n\n      {/* How to Check in Google Analytics */}\n      <div className=\"mt-12 text-center\">\n        <p className=\"text-gray-300\">\n          You can view your UTM URLs in{\" \"}\n          <strong className=\"text-white\">\n            Google Analytics &gt; Acquisition &gt; Campaigns\n          </strong>\n          .\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default UTMGuide;\n","\"use client\";\n\nimport { useState, useEffect } from \"react\";\n\n/**\n * Hook for managing state synchronized with localStorage\n */\nexport const useLocalStorage = <T>(\n  key: string,\n  initialValue: T\n): [T, React.Dispatch<React.SetStateAction<T>>] => {\n  // Get initial value from localStorage\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    if (typeof window === \"undefined\") {\n      return initialValue;\n    }\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? (JSON.parse(item) as T) : initialValue;\n    } catch (error) {\n      console.error(`Error loading ${key} from localStorage:`, error);\n      return initialValue;\n    }\n  });\n\n  // Save to localStorage when value changes\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    try {\n      window.localStorage.setItem(key, JSON.stringify(storedValue));\n    } catch (error) {\n      console.error(`Error saving ${key} to localStorage:`, error);\n    }\n  }, [key, storedValue]);\n\n  return [storedValue, setStoredValue];\n};\n"],"names":[],"mappings":"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"}